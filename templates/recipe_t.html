{% block content %}
<div class="container-fluid padding">
	<div class="row padding">   
        
		<!-- if re-writing in JS . . ?
        rename so there is a root variable tha allows multiple recipe
        de-reference into the leaf? 
        -->
        <script>      
          var recipes = {{ recipes|tojson }};                       // convert info using tojson filter      
          console.log(`recipe_t JS ${recipes[0]['ri_name']} - inline CONCLUDED`);  // sanity check      
        </script>

		
        <div class="col-md-12">
            <div class="card">
                <img class="card-img-top" src="http://192.168.0.8:8000/static/recipe/{{recipes[0]['image_file']}}"></img>
                <div class="card-body">
                    <h2 class="card-title">{{ recipes[0]['ri_name'] }}</h2>
                    <p class="card-text">{{ recipes[0]['description'] }}</p>
                    <h3 class="card-title">Ingredients
                        <a href="#" class="btn btn-outline-secondary float-right">Contents..</a>
                    </h3>    
                    <table class="card-text">
                      {% for ingd_line in recipes[0]['ingredients'] %}
                      <tr>
                          <!--td>{{ingd_line[0]}}</td-->
                          <td>{{ingd_line[1]}}</td>
							{% if ingd_line[2] == '(0)' %}
								<td></td>
							{% else %}
								<td>{{ingd_line[2]}}</td>
							{% endif %}                          
						  <td>{{ingd_line[3]}}</td>
						  <td>ATOMIC: {{ingd_line[0]}}</td>
						  	{% if ingd_line[0] == '0' %}
								<!--not an atomic engredient - expandable - add button-->
								<td><a class="btn btn-sm btn-outline-secondary float-right" href="#" role="button">expand</a></td>
							{% else %}
								<td>NB</td>
							{% endif %}  
						  
						  <!--extra small button - relies on additional styling recipe.css-->
						  <!--<td>{{ingd_line[3]}}<a class="btn btn-xs btn-outline-secondary float-right" href="#" role="button">expand</a></td>-->
                      </tr>
                      {% endfor %}
                    </table>
                </div>
            </div>
            {% include 'nutrient_traffic_lights.html' %}
        </div>    
    </div>
</div>


{% endblock %}
